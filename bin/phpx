#!/usr/bin/env php
<?php

// This is the entry point for the PHP-X runtime environment.
// this file is create a event loop and execute the provided .xphp script.
require_once __DIR__ . '/../src/Core.php';

// Load DOM module for HTML manipulation
require_once __DIR__ . '/../src/DOM.php';

// Load Server module for HTTP server functionality
require_once __DIR__ . '/../src/Server.php';


if ($argc < 2) {
    echo "Usage: phpx <file.xphp>\n";
    exit(1);
}

$file = $argv[1];

if (!file_exists($file)) {
    echo "File not found: $file\n";
    exit(1);
}

require $file;

// runtime start
Core::run();
